{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/js/canvas.js","src/js/config.js","src/js/gameLoop.js","<<jsx-config-pragma.js>>","src/js/snake.js","src/js/score.js","src/js/supportFunction.js","src/js/berry.js","src/game.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","export default class Canvas {\n\tconstructor(container) {\n\t\tthis.element = document.createElement(\"canvas\");\n\t\tthis.context = this.element.getContext(\"2d\");\n\n\t\tthis.element.width = 320;\n\t\tthis.element.height = 400;\n\n\t\tcontainer.appendChild(this.element);\n\t}\n}\n","export default class Config {\n\tconstructor() {\n\t\t(this.step = 0), (this.maxStep = 6), (this.sizeCell = 16), (this.sizeBerry = this.sizeCell / 4);\n\t}\n}\n","import Config from \"./config.js\";\n\nexport default class GameLoop {\n\tconstructor(update, draw) {\n\t\tthis.update = update;\n\t\tthis.draw = draw;\n\n\t\tthis.config = new Config();\n\n\t\tthis.animate = this.animate.bind(this);\n\t\tthis.animate();\n\t}\n\n\tanimate() {\n\t\trequestAnimationFrame(this.animate);\n\t\tif (++this.config.step < this.config.maxStep) {\n\t\t\treturn;\n\t\t}\n\t\tthis.config.step = 0;\n\n\t\tthis.update();\n\t\tthis.draw();\n\t}\n}\n",null,"import Config from \"./config\";\n\nexport default class Snake {\n\tconstructor() {\n\t\tthis.config = new Config();\n\n\t\tthis.x = 160;\n\t\tthis.y = 160;\n\t\tthis.dx = this.config.sizeCell;\n\t\tthis.dy = 0;\n\t\tthis.tails = [];\n\t\tthis.maxTails = 3;\n\n\t\tthis.reverseKey = \"\";\n\t\tthis.control();\n\t}\n\n\tupdate(berry, score, canvas) {\n\t\tthis.x += this.dx;\n\t\tthis.y += this.dy;\n\n\t\tif (this.x < 0) {\n\t\t\tthis.x = canvas.element.width - this.config.sizeCell;\n\t\t} else if (this.x >= canvas.element.width) {\n\t\t\tthis.x = 0;\n\t\t}\n\n\t\tif (this.y < 0) {\n\t\t\tthis.y = canvas.element.height - this.config.sizeCell;\n\t\t} else if (this.y >= canvas.element.height) {\n\t\t\tthis.y = 0;\n\t\t}\n\n\t\tthis.tails.unshift({ x: this.x, y: this.y });\n\n\t\tif (this.tails.length > this.maxTails) {\n\t\t\tthis.tails.pop();\n\t\t}\n\n\t\tthis.tails.forEach((el, index) => {\n\t\t\tif (el.x === berry.x && el.y === berry.y) {\n\t\t\t\tthis.maxTails++;\n\t\t\t\tscore.incScore();\n\t\t\t\tberry.randomPosition();\n\t\t\t}\n\n\t\t\tfor (let i = index + 1; i < this.tails.length; i++) {\n\t\t\t\tif (el.x == this.tails[i].x && el.y == this.tails[i].y) {\n\t\t\t\t\tthis.death();\n\t\t\t\t\tscore.setToZero();\n\t\t\t\t\tberry.randomPosition();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tdraw(context) {\n\t\tthis.tails.forEach((el, index) => {\n\t\t\t// index == 0 ? (context.fillStyle = \"orange\") : (context.fillStyle = this.randColor());\n\n\t\t\tif (index === 0) {\n\t\t\t\tcontext.fillStyle = \"orange\";\n\t\t\t} else if (index % 2 === 0) {\n\t\t\t\tcontext.fillStyle = \"grey\";\n\t\t\t} else {\n\t\t\t\tcontext.fillStyle = \"black\";\n\t\t\t}\n\n\t\t\tcontext.fillRect(el.x, el.y, this.config.sizeCell, this.config.sizeCell);\n\t\t});\n\t}\n\n\tdeath() {\n\t\tthis.y = 160;\n\t\tthis.dx = this.config.sizeCell;\n\t\tthis.dy = 0;\n\t\tthis.tails = [];\n\t\tthis.maxTails = 3;\n\t\tthis.reverseKey = \"\";\n\t}\n\n\tcontrol() {\n\t\tdocument.addEventListener(\"keydown\", e => {\n\t\t\tif (e.code == \"KeyW\" && this.reverseKey !== \"KeyS\") {\n\t\t\t\tthis.dy = -this.config.sizeCell;\n\t\t\t\tthis.dx = 0;\n\t\t\t\tthis.reverseKey = \"KeyW\";\n\t\t\t} else if (e.code == \"KeyA\" && this.reverseKey !== \"KeyD\") {\n\t\t\t\tthis.dx = -this.config.sizeCell;\n\t\t\t\tthis.dy = 0;\n\t\t\t\tthis.reverseKey = \"KeyA\";\n\t\t\t} else if (e.code == \"KeyS\" && this.reverseKey !== \"KeyW\") {\n\t\t\t\tthis.dy = this.config.sizeCell;\n\t\t\t\tthis.dx = 0;\n\t\t\t\tthis.reverseKey = \"KeyS\";\n\t\t\t} else if (e.code == \"KeyD\" && this.reverseKey !== \"KeyA\") {\n\t\t\t\tthis.dx = this.config.sizeCell;\n\t\t\t\tthis.dy = 0;\n\t\t\t\tthis.reverseKey = \"KeyD\";\n\t\t\t}\n\t\t});\n\t}\n}\n","export default class Score {\n\tconstructor(scoreBlock, score = 0) {\n\t\tthis.scoreBlock = document.querySelector(scoreBlock);\n\t\tthis.score = score;\n\n\t\tthis.draw();\n\t}\n\n\tincScore() {\n\t\tthis.score++;\n\t\tthis.draw();\n\t}\n\n\tsetToZero() {\n\t\tthis.score = 0;\n\t\tthis.draw();\n\t}\n\n\tdraw() {\n\t\tthis.scoreBlock.innerHTML = this.score;\n\t}\n}\n","export function getRandomInt(min, max) {\n\treturn Math.floor(Math.random() * (max - min) + min);\n}\n","import Config from \"./config\";\nimport { getRandomInt } from \"./supportFunction\";\n\nexport default class Berry {\n\tconstructor(canvas) {\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\n\t\tthis.canvas = canvas;\n\n\t\tthis.config = new Config();\n\n\t\tthis.randomPosition();\n\t}\n\n\tdraw(context) {\n\t\tcontext.beginPath();\n\t\tcontext.fillStyle = this.randColor();\n\t\tcontext.arc(\n\t\t\tthis.x + this.config.sizeCell / 2,\n\t\t\tthis.y + this.config.sizeCell / 2,\n\t\t\tthis.config.sizeBerry,\n\t\t\t0,\n\t\t\t2 * Math.PI,\n\t\t);\n\t\tcontext.fill();\n\t}\n\n\trandomPosition() {\n\t\tthis.x = getRandomInt(0, this.canvas.element.width / this.config.sizeCell) * this.config.sizeCell;\n\t\tthis.y = getRandomInt(0, this.canvas.element.height / this.config.sizeCell) * this.config.sizeCell;\n\t}\n\n\trandColor() {\n\t\treturn (\n\t\t\t\"#\" +\n\t\t\tMath.floor(Math.random() * 16777215)\n\t\t\t\t.toString(16)\n\t\t\t\t.padStart(6, \"0\")\n\t\t\t\t.toUpperCase()\n\t\t);\n\t}\n}\n","import Canvas from \"./js/canvas\";\nimport Config from \"./js/config\";\nimport GameLoop from \"./js/gameLoop\";\nimport Snake from \"./js/snake\";\nimport Score from \"./js/score\";\nimport Berry from \"./js/berry\";\n\nclass Game {\n\tconstructor(container) {\n\t\tthis.canvas = new Canvas(container);\n\t\tthis.snake = new Snake();\n\t\tthis.berry = new Berry(this.canvas);\n\t\tthis.score = new Score(\".game-score .score-count\", 0);\n\t\t// debugger;\n\n\t\tnew GameLoop(this.update.bind(this), this.draw.bind(this));\n\t}\n\n\tupdate() {\n\t\tthis.snake.update(this.berry, this.score, this.canvas);\n\t}\n\n\tdraw() {\n\t\tthis.canvas.context.clearRect(0, 0, this.canvas.element.width, this.canvas.element.height);\n\t\tdebugger;\n\t\tthis.snake.draw(this.canvas.context);\n\t\tthis.berry.draw(this.canvas.context);\n\t}\n}\n\nnew Game(document.querySelector(\".canvas-wrapper\"));\n"],"names":["Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$68e654e91d7a7392$export$2e2bcd8739ae039","Canvas","container","this","element","document","createElement","context","getContext","width","height","appendChild","$a536fbf06af412b5$export$2e2bcd8739ae039","Config","step","maxStep","sizeCell","sizeBerry","$36443023f08751e2$export$2e2bcd8739ae039","GameLoop","update","draw","config","animate","bind","requestAnimationFrame","$33cfb6687f1d4992$export$2e2bcd8739ae039","Snake","x","y","dx","dy","tails","maxTails","reverseKey","control","berry","score","canvas","unshift","pop","forEach","el","index","_this","incScore","randomPosition","death","setToZero","fillStyle","fillRect","addEventListener","e","code","$d9af53cf280b4a91$export$2e2bcd8739ae039","Score","scoreBlock","arguments","querySelector","innerHTML","$fab8b3ee11cfbe7d$export$b141de964f0a90c1","min","max","Math","floor","random","$42413a7ecebc485d$export$2e2bcd8739ae039","Berry","beginPath","randColor","arc","PI","fill","toString","padStart","toUpperCase","Game","snake","clearRect"],"version":3,"file":"index.de1e44a5.js.map"}