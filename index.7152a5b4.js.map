{"mappings":"AAAe,MAAMA,EACpBC,YAAYC,GACXC,KAAKC,QAAUC,SAASC,cAAc,UACtCH,KAAKI,QAAUJ,KAAKC,QAAQI,WAAW,MAEvCL,KAAKC,QAAQK,MAAQ,IACrBN,KAAKC,QAAQM,OAAS,IAEtBR,EAAUS,YAAYR,KAAKC,UCRd,MAAMQ,EACpBX,cACEE,KAAKU,KAAO,EAAKV,KAAKW,QAAU,EAAKX,KAAKY,SAAW,GAAMZ,KAAKa,UAAYb,KAAKY,SAAW,GCAhF,MAAME,EAWpBC,UACCC,sBAAsBhB,KAAKe,WACrBf,KAAKiB,OAAOP,KAAOV,KAAKiB,OAAON,UAGrCX,KAAKiB,OAAOP,KAAO,EAEnBV,KAAKkB,SACLlB,KAAKmB,QAlBNrB,YAAYoB,EAAQC,GACnBnB,KAAKkB,OAASA,EACdlB,KAAKmB,KAAOA,EAEZnB,KAAKiB,OAAS,IAAIR,EAElBT,KAAKe,QAAUf,KAAKe,QAAQK,KAAKpB,MACjCA,KAAKe,WCRQ,MAAMM,EAcpBH,OAAOI,EAAOC,EAAOC,GACpBxB,KAAKyB,GAAKzB,KAAK0B,GACf1B,KAAK2B,GAAK3B,KAAK4B,GAEX5B,KAAKyB,EAAI,EACZzB,KAAKyB,EAAID,EAAOvB,QAAQK,MAAQN,KAAKiB,OAAOL,SAClCZ,KAAKyB,GAAKD,EAAOvB,QAAQK,QACnCN,KAAKyB,EAAI,GAGNzB,KAAK2B,EAAI,EACZ3B,KAAK2B,EAAIH,EAAOvB,QAAQM,OAASP,KAAKiB,OAAOL,SACnCZ,KAAK2B,GAAKH,EAAOvB,QAAQM,SACnCP,KAAK2B,EAAI,GAGV3B,KAAK6B,MAAMC,QAAQ,CAAEL,EAAGzB,KAAKyB,EAAGE,EAAG3B,KAAK2B,IAEpC3B,KAAK6B,MAAME,OAAS/B,KAAKgC,UAC5BhC,KAAK6B,MAAMI,MAGZjC,KAAK6B,MAAMK,SAAQ,CAACC,EAAIC,KACnBD,EAAGV,IAAMH,EAAMG,GAAKU,EAAGR,IAAML,EAAMK,IACtC3B,KAAKgC,WACLT,EAAMc,WACNf,EAAMgB,kBAGP,IAAK,IAAIC,EAAIH,EAAQ,EAAGG,EAAIvC,KAAK6B,MAAME,OAAQQ,IAC1CJ,EAAGV,GAAKzB,KAAK6B,MAAMU,GAAGd,GAAKU,EAAGR,GAAK3B,KAAK6B,MAAMU,GAAGZ,IACpD3B,KAAKwC,QACLjB,EAAMkB,YACNnB,EAAMgB,qBAMVnB,KAAKf,GACJJ,KAAK6B,MAAMK,SAAQ,CAACC,EAAIC,KACwBhC,EAAQsC,UAAY,UACnEtC,EAAQuC,SAASR,EAAGV,EAAGU,EAAGR,EAAG3B,KAAKiB,OAAOL,SAAUZ,KAAKiB,OAAOL,aAIjE4B,QACCxC,KAAK2B,EAAI,IACT3B,KAAK0B,GAAK1B,KAAKiB,OAAOL,SACtBZ,KAAK4B,GAAK,EACV5B,KAAK6B,MAAQ,GACb7B,KAAKgC,SAAW,EAGjBY,UACC,IAAIC,EAAa,GAEjB3C,SAAS4C,iBAAiB,WAAWC,IACtB,QAAVA,EAAEC,MAAiC,SAAfH,GACvB7C,KAAK4B,IAAM5B,KAAKiB,OAAOL,SACvBZ,KAAK0B,GAAK,EACVmB,EAAa,QACO,QAAVE,EAAEC,MAAiC,SAAfH,GAC9B7C,KAAK0B,IAAM1B,KAAKiB,OAAOL,SACvBZ,KAAK4B,GAAK,EACViB,EAAa,QACO,QAAVE,EAAEC,MAAiC,SAAfH,GAC9B7C,KAAK4B,GAAK5B,KAAKiB,OAAOL,SACtBZ,KAAK0B,GAAK,EACVmB,EAAa,QACO,QAAVE,EAAEC,MAAiC,SAAfH,IAC9B7C,KAAK0B,GAAK1B,KAAKiB,OAAOL,SACtBZ,KAAK4B,GAAK,EACViB,EAAa,WAtFhB/C,cACCE,KAAKiB,OAAS,IAAIR,EAElBT,KAAKyB,EAAI,IACTzB,KAAK2B,EAAI,IACT3B,KAAK0B,GAAK1B,KAAKiB,OAAOL,SACtBZ,KAAK4B,GAAK,EACV5B,KAAK6B,MAAQ,GACb7B,KAAKgC,SAAW,EAEhBhC,KAAK4C,WCbQ,MAAMK,EAQpBZ,WACCrC,KAAKuB,QACLvB,KAAKmB,OAGNsB,YACCzC,KAAKuB,MAAQ,EACbvB,KAAKmB,OAGNA,OACCnB,KAAKkD,WAAWC,UAAYnD,KAAKuB,MAlBlCzB,YAAYoD,EAAY3B,EAAQ,GAC/BvB,KAAKkD,WAAahD,SAASkD,cAAcF,GACzClD,KAAKuB,MAAQA,EAEbvB,KAAKmB,QCLA,SAASkC,EAAaC,EAAKC,GACjC,OAAOC,KAAKC,MAAMD,KAAKE,UAAYH,EAAMD,GAAOA,GCElC,MAAMK,EAYpBxC,KAAKf,GACJA,EAAQwD,YACRxD,EAAQsC,UAAY,UACpBtC,EAAQyD,IACP7D,KAAKyB,EAAIzB,KAAKiB,OAAOL,SAAW,EAChCZ,KAAK2B,EAAI3B,KAAKiB,OAAOL,SAAW,EAChCZ,KAAKiB,OAAOJ,UACZ,EACA,EAAI2C,KAAKM,IAEV1D,EAAQ2D,OAGTzB,iBACCtC,KAAKyB,EAAI4B,EAAa,EAAGrD,KAAKwB,OAAOvB,QAAQK,MAAQN,KAAKiB,OAAOL,UAAYZ,KAAKiB,OAAOL,SACzFZ,KAAK2B,EAAI0B,EAAa,EAAGrD,KAAKwB,OAAOvB,QAAQM,OAASP,KAAKiB,OAAOL,UAAYZ,KAAKiB,OAAOL,SA1B3Fd,YAAY0B,GACXxB,KAAKyB,EAAI,EACTzB,KAAK2B,EAAI,EAET3B,KAAKwB,OAASA,EAEdxB,KAAKiB,OAAS,IAAIR,EAElBT,KAAKsC,kBCiBP,IAtBA,MAUCpB,SACClB,KAAKgE,MAAM9C,OAAOlB,KAAKsB,MAAOtB,KAAKuB,MAAOvB,KAAKwB,QAGhDL,OACCnB,KAAKwB,OAAOpB,QAAQ6D,UAAU,EAAG,EAAGjE,KAAKwB,OAAOvB,QAAQK,MAAON,KAAKwB,OAAOvB,QAAQM,QAEnFP,KAAKgE,MAAM7C,KAAKnB,KAAKwB,OAAOpB,SAC5BJ,KAAKsB,MAAMH,KAAKnB,KAAKwB,OAAOpB,SAjB7BN,YAAYC,GACXC,KAAKwB,OAAS,IAAI3B,EAAOE,GACzBC,KAAKgE,MAAQ,IAAI3C,EACjBrB,KAAKsB,MAAQ,IAAIqC,EAAM3D,KAAKwB,QAC5BxB,KAAKuB,MAAQ,IAAI0B,EAAM,2BAA4B,GAEnD,IAAInC,EAASd,KAAKkB,OAAOE,KAAKpB,MAAOA,KAAKmB,KAAKC,KAAKpB,SAe7CE,SAASkD,cAAc","sources":["src/js/canvas.js","src/js/config.js","src/js/gameLoop.js","src/js/snake.js","src/js/score.js","src/js/supportFunction.js","src/js/berry.js","src/game.js"],"sourcesContent":["export default class Canvas {\n\tconstructor(container) {\n\t\tthis.element = document.createElement(\"canvas\");\n\t\tthis.context = this.element.getContext(\"2d\");\n\n\t\tthis.element.width = 320;\n\t\tthis.element.height = 400;\n\n\t\tcontainer.appendChild(this.element);\n\t}\n}\n","export default class Config {\n\tconstructor() {\n\t\t(this.step = 0), (this.maxStep = 6), (this.sizeCell = 16), (this.sizeBerry = this.sizeCell / 4);\n\t}\n}\n","import Config from \"./config.js\";\n\nexport default class GameLoop {\n\tconstructor(update, draw) {\n\t\tthis.update = update;\n\t\tthis.draw = draw;\n\n\t\tthis.config = new Config();\n\n\t\tthis.animate = this.animate.bind(this);\n\t\tthis.animate();\n\t}\n\n\tanimate() {\n\t\trequestAnimationFrame(this.animate);\n\t\tif (++this.config.step < this.config.maxStep) {\n\t\t\treturn;\n\t\t}\n\t\tthis.config.step = 0;\n\n\t\tthis.update();\n\t\tthis.draw();\n\t}\n}\n","import Config from \"./config\";\n\nexport default class Snake {\n\tconstructor() {\n\t\tthis.config = new Config();\n\n\t\tthis.x = 160;\n\t\tthis.y = 160;\n\t\tthis.dx = this.config.sizeCell;\n\t\tthis.dy = 0;\n\t\tthis.tails = [];\n\t\tthis.maxTails = 3;\n\t\t// debugger;\n\t\tthis.control();\n\t}\n\n\tupdate(berry, score, canvas) {\n\t\tthis.x += this.dx;\n\t\tthis.y += this.dy;\n\n\t\tif (this.x < 0) {\n\t\t\tthis.x = canvas.element.width - this.config.sizeCell;\n\t\t} else if (this.x >= canvas.element.width) {\n\t\t\tthis.x = 0;\n\t\t}\n\n\t\tif (this.y < 0) {\n\t\t\tthis.y = canvas.element.height - this.config.sizeCell;\n\t\t} else if (this.y >= canvas.element.height) {\n\t\t\tthis.y = 0;\n\t\t}\n\n\t\tthis.tails.unshift({ x: this.x, y: this.y });\n\n\t\tif (this.tails.length > this.maxTails) {\n\t\t\tthis.tails.pop();\n\t\t}\n\n\t\tthis.tails.forEach((el, index) => {\n\t\t\tif (el.x === berry.x && el.y === berry.y) {\n\t\t\t\tthis.maxTails++;\n\t\t\t\tscore.incScore();\n\t\t\t\tberry.randomPosition();\n\t\t\t}\n\n\t\t\tfor (let i = index + 1; i < this.tails.length; i++) {\n\t\t\t\tif (el.x == this.tails[i].x && el.y == this.tails[i].y) {\n\t\t\t\t\tthis.death();\n\t\t\t\t\tscore.setToZero();\n\t\t\t\t\tberry.randomPosition();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tdraw(context) {\n\t\tthis.tails.forEach((el, index) => {\n\t\t\tindex = 0 ? (context.fillStyle = \"#FA0556\") : (context.fillStyle = \"#A00034\");\n\t\t\tcontext.fillRect(el.x, el.y, this.config.sizeCell, this.config.sizeCell);\n\t\t});\n\t}\n\n\tdeath() {\n\t\tthis.y = 160;\n\t\tthis.dx = this.config.sizeCell;\n\t\tthis.dy = 0;\n\t\tthis.tails = [];\n\t\tthis.maxTails = 3;\n\t}\n\n\tcontrol() {\n\t\tlet reverseKey = \"\";\n\n\t\tdocument.addEventListener(\"keydown\", e => {\n\t\t\tif (e.code == \"KeyW\" && reverseKey !== \"KeyS\") {\n\t\t\t\tthis.dy = -this.config.sizeCell;\n\t\t\t\tthis.dx = 0;\n\t\t\t\treverseKey = \"KeyW\";\n\t\t\t} else if (e.code == \"KeyA\" && reverseKey !== \"KeyD\") {\n\t\t\t\tthis.dx = -this.config.sizeCell;\n\t\t\t\tthis.dy = 0;\n\t\t\t\treverseKey = \"KeyA\";\n\t\t\t} else if (e.code == \"KeyS\" && reverseKey !== \"KeyW\") {\n\t\t\t\tthis.dy = this.config.sizeCell;\n\t\t\t\tthis.dx = 0;\n\t\t\t\treverseKey = \"KeyS\";\n\t\t\t} else if (e.code == \"KeyD\" && reverseKey !== \"KeyA\") {\n\t\t\t\tthis.dx = this.config.sizeCell;\n\t\t\t\tthis.dy = 0;\n\t\t\t\treverseKey = \"KeyD\";\n\t\t\t}\n\t\t});\n\t}\n}\n","export default class Score {\n\tconstructor(scoreBlock, score = 0) {\n\t\tthis.scoreBlock = document.querySelector(scoreBlock);\n\t\tthis.score = score;\n\n\t\tthis.draw();\n\t}\n\n\tincScore() {\n\t\tthis.score++;\n\t\tthis.draw();\n\t}\n\n\tsetToZero() {\n\t\tthis.score = 0;\n\t\tthis.draw();\n\t}\n\n\tdraw() {\n\t\tthis.scoreBlock.innerHTML = this.score;\n\t}\n}\n","export function getRandomInt(min, max) {\n\treturn Math.floor(Math.random() * (max - min) + min);\n}\n","import Config from \"./config\";\nimport { getRandomInt } from \"./supportFunction\";\n\nexport default class Berry {\n\tconstructor(canvas) {\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\n\t\tthis.canvas = canvas;\n\n\t\tthis.config = new Config();\n\n\t\tthis.randomPosition();\n\t}\n\n\tdraw(context) {\n\t\tcontext.beginPath();\n\t\tcontext.fillStyle = \"#A00034\";\n\t\tcontext.arc(\n\t\t\tthis.x + this.config.sizeCell / 2,\n\t\t\tthis.y + this.config.sizeCell / 2,\n\t\t\tthis.config.sizeBerry,\n\t\t\t0,\n\t\t\t2 * Math.PI,\n\t\t);\n\t\tcontext.fill();\n\t}\n\n\trandomPosition() {\n\t\tthis.x = getRandomInt(0, this.canvas.element.width / this.config.sizeCell) * this.config.sizeCell;\n\t\tthis.y = getRandomInt(0, this.canvas.element.height / this.config.sizeCell) * this.config.sizeCell;\n\t}\n}\n","import Canvas from \"./js/canvas\";\nimport Config from \"./js/config\";\nimport GameLoop from \"./js/gameLoop\";\nimport Snake from \"./js/snake\";\nimport Score from \"./js/score\";\nimport Berry from \"./js/berry\";\n\nclass Game {\n\tconstructor(container) {\n\t\tthis.canvas = new Canvas(container);\n\t\tthis.snake = new Snake();\n\t\tthis.berry = new Berry(this.canvas);\n\t\tthis.score = new Score(\".game-score .score-count\", 0);\n\t\t// debugger;\n\t\tnew GameLoop(this.update.bind(this), this.draw.bind(this));\n\t}\n\n\tupdate() {\n\t\tthis.snake.update(this.berry, this.score, this.canvas);\n\t}\n\n\tdraw() {\n\t\tthis.canvas.context.clearRect(0, 0, this.canvas.element.width, this.canvas.element.height);\n\n\t\tthis.snake.draw(this.canvas.context);\n\t\tthis.berry.draw(this.canvas.context);\n\t}\n}\n\nnew Game(document.querySelector(\".canvas-wrapper\"));\n"],"names":["$9b58d7721ff4a93e$export$2e2bcd8739ae039","constructor","container","this","element","document","createElement","context","getContext","width","height","appendChild","$ef19e442e0cefa4b$export$2e2bcd8739ae039","step","maxStep","sizeCell","sizeBerry","$4058cb7282c1250b$export$2e2bcd8739ae039","animate","requestAnimationFrame","config","update","draw","bind","$8e58edf0c1138f95$export$2e2bcd8739ae039","berry","score","canvas","x","dx","y","dy","tails","unshift","length","maxTails","pop","forEach","el","index","incScore","randomPosition","i","death","setToZero","fillStyle","fillRect","control","reverseKey","addEventListener","e","code","$b68ed25d6bf54029$export$2e2bcd8739ae039","scoreBlock","innerHTML","querySelector","$205d983589a0cc04$export$b141de964f0a90c1","min","max","Math","floor","random","$96fecca8985e80df$export$2e2bcd8739ae039","beginPath","arc","PI","fill","snake","clearRect"],"version":3,"file":"index.7152a5b4.js.map"}